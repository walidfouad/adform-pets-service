{"version":3,"sources":["../../src/data/dataformat.js"],"names":["formatDataRow","dataRow","fDataRow","type","console","log","toLowerCase","Owner","id","name","address","phone","email","Dog","colour","age","breed","ownerId","Cat","toJSON","formatData","modelDataArray","formatedDataArray","async","forEach","modelDataRow","push","sort","a","b"],"mappings":";;;;;;;AAAA;;;;AACA;;;;AACA;;;;AAEA;;;;;;AAEA,IAAMA,gBAAgB,SAAhBA,aAAgB,CAACC,OAAD,EAAa;AAC/B,QAAIC,WAAW,EAAf;;AAEA,QAAI,CAACD,QAAQE,IAAb,EAAmB;AACfC,gBAAQC,GAAR,CAAY,kDAAZ;;AAEA,eAAOH,QAAP;AACH;;AAED,YAAQD,QAAQE,IAAR,CAAaG,WAAb,EAAR;AACI,aAAK,OAAL;AACIJ,uBAAW,IAAIK,eAAJ,CAAUN,QAAQO,EAAlB,EACPP,QAAQQ,IADD,EAEPR,QAAQS,OAFD,EAGPT,QAAQU,KAHD,EAIPV,QAAQW,KAJD,CAAX;AAKA;AACJ,aAAK,KAAL;AACIV,uBAAW,IAAIW,aAAJ,CAAQZ,QAAQO,EAAhB,EACPP,QAAQQ,IADD,EAEPR,QAAQa,MAFD,EAGPb,QAAQc,GAHD,EAIPd,QAAQe,KAJD,EAKPf,QAAQgB,OALD,CAAX;AAMA;AACJ,aAAK,KAAL;AACIf,uBAAW,IAAIgB,aAAJ,CAAQjB,QAAQO,EAAhB,EACPP,QAAQQ,IADD,EAEPR,QAAQa,MAFD,EAGPb,QAAQc,GAHD,EAIPd,QAAQe,KAJD,EAKPf,QAAQgB,OALD,CAAX;AAMA;AACJ;AACI,mBAAO,EAAP;;AAzBR;;AA6BA,WAAOf,SAASiB,MAAT,EAAP;AACH,CAvCD;;AA0CA,IAAMC,aAAa,SAAbA,UAAa,CAACC,cAAD,EAAoB;;AAEnC,QAAIC,oBAAoB,EAAxB;AACAC,oBAAMC,OAAN,CAAcH,cAAd,EAA8B,UAACI,YAAD,EAAkB;AAC5CH,0BAAkBI,IAAlB,CAAuB1B,cAAcyB,YAAd,CAAvB;AACH,KAFD;;AAIA;AACA;;AAEA;AACAH,sBAAkBK,IAAlB,CAAuB,UAACC,CAAD,EAAIC,CAAJ;AAAA,eAAWD,EAAEpB,EAAF,GAAOqB,EAAErB,EAAV,GAAgB,CAAhB,GAAqBoB,EAAEzB,IAAF,KAAW0B,EAAE1B,IAAd,GAAsB,CAAtB,GAA0B,CAAC,CAAzD;AAAA,KAAvB;;AAEA,WAAOmB,iBAAP;AACH,CAdD;;QAgBStB,a,GAAAA,a;kBACMoB,U","file":"dataformat.js","sourcesContent":["import Owner from '../model/owner/owner.model';\r\nimport Dog from '../model/pet/dog.model';\r\nimport Cat from '../model/pet/cat.model';\r\n\r\nimport async from 'async';\r\n\r\nconst formatDataRow = (dataRow) => {\r\n    let fDataRow = {};\r\n\r\n    if (!dataRow.type) {\r\n        console.log('MISSING FILED. Data row does not include a type.');\r\n\r\n        return fDataRow;\r\n    }\r\n\r\n    switch (dataRow.type.toLowerCase()) {\r\n        case 'owner':\r\n            fDataRow = new Owner(dataRow.id,\r\n                dataRow.name,\r\n                dataRow.address,\r\n                dataRow.phone,\r\n                dataRow.email);\r\n            break;\r\n        case 'dog':\r\n            fDataRow = new Dog(dataRow.id,\r\n                dataRow.name,\r\n                dataRow.colour,\r\n                dataRow.age,\r\n                dataRow.breed,\r\n                dataRow.ownerId);\r\n            break;\r\n        case 'cat':\r\n            fDataRow = new Cat(dataRow.id,\r\n                dataRow.name,\r\n                dataRow.colour,\r\n                dataRow.age,\r\n                dataRow.breed,\r\n                dataRow.ownerId);\r\n            break;\r\n        default:\r\n            return {};\r\n\r\n    }\r\n\r\n    return fDataRow.toJSON();\r\n};\r\n\r\n\r\nconst formatData = (modelDataArray) => {\r\n\r\n    let formatedDataArray = [];\r\n    async.forEach(modelDataArray, (modelDataRow) => {\r\n        formatedDataArray.push(formatDataRow(modelDataRow));\r\n    });\r\n\r\n    // sort by id\r\n    // formatedDataArray.sort((a, b) => (a.id > b.id) ? 1 : -1);\r\n\r\n    // sort by id and then by type\r\n    formatedDataArray.sort((a, b) => (a.id > b.id) ? 1 : (a.type === b.type) ? 1 : -1);\r\n\r\n    return formatedDataArray;\r\n};\r\n\r\nexport { formatDataRow };\r\nexport default formatData;"]}