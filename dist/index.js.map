{"version":3,"sources":["../src/index.js"],"names":["global","logger","process","on","err","error","promise","startServer","port","app","listen","info","server","graphqlPath","serverSettings","exit"],"mappings":";;AAAA;;;;AAGA;;;;AACA;;;;AAHAA,OAAOC,MAAP,GAAgBA,gBAAhB;;AAMAC,QAAQC,EAAR,CAAW,mBAAX,EAAgC,UAACC,GAAD,EAAS;AACrCH,qBAAOI,KAAP,CAAa,qBAAb,EAAoCD,GAApC;AACH,CAFD;;AAIAF,QAAQC,EAAR,CAAW,mBAAX,EAAgC,UAACC,GAAD,EAAME,OAAN,EAAkB;AAC9CL,qBAAOI,KAAP,CAAa,mBAAb,EAAkCD,GAAlC;AACH,CAFD;;AAIA,IAAMG,cAAc,SAAdA,WAAc,CAACC,IAAD,EAAU;;AAE1BC,qBAAIC,MAAJ,CAAW,EAAEF,UAAF,EAAX,EAAqB,YAAM;AACvBP,yBAAOU,IAAP,uCAAgDH,IAAhD,GAAuDI,eAAOC,WAA9D;AACH,KAFD;AAGH,CALD;;AAOA,IAAI,CAACC,uBAAeN,IAApB,EAA0B;AACtBP,qBAAOI,KAAP,CAAa,mDAAb;AACAH,YAAQa,IAAR,CAAa,CAAb;AACH;;AAEDR,YAAYO,uBAAeN,IAA3B","file":"index.js","sourcesContent":["import logger from './utils/logger';\r\nglobal.logger = logger;\r\n\r\nimport app, { server } from './server/server';\r\nimport { serverSettings } from './config/config';\r\n\r\n\r\nprocess.on('uncaughtException', (err) => {\r\n    logger.error('Unhandled Exception', err);\r\n});\r\n\r\nprocess.on('uncaughtRejection', (err, promise) => {\r\n    logger.error('uncaughtRejection', err);\r\n});\r\n\r\nconst startServer = (port) => {\r\n\r\n    app.listen({ port }, () => {\r\n        logger.info(`Server ready at http://localhost:${port}${server.graphqlPath}`);\r\n    });\r\n};\r\n\r\nif (!serverSettings.port) {\r\n    logger.error(\"The server must be started with an available port\");\r\n    process.exit(9);\r\n}\r\n\r\nstartServer(serverSettings.port);"]}