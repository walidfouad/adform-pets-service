{"version":3,"sources":["../../src/server/app.js"],"names":["app","use","err","req","res","next","console","log","status","send","server","ApolloServer","schema","applyMiddleware","listen","port","graphqlPath"],"mappings":";;;;;;AAAA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;;;AAGA,IAAMA,MAAM,wBAAZ;;AAEAA,IAAIC,GAAJ,CAAQ,sBAAO,KAAP,CAAR;AACAD,IAAIC,GAAJ,CAAQ,qBAAR;AACAD,IAAIC,GAAJ,CAAQ,uBAAR;;AAEAD,IAAIC,GAAJ,CAAQ,UAACC,GAAD,EAAMC,GAAN,EAAWC,GAAX,EAAgBC,IAAhB,EAAyB;AAC7BC,YAAQC,GAAR,CAAY,eAAZ;AACAH,QAAII,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,uBAArB;AACH,CAHD;;AAKAH,QAAQC,GAAR,CAAY,4BAAZ;AACAD,QAAQC,GAAR,CAAY,qBAAZ;AACA,IAAMG,SAAS,IAAIC,iCAAJ,CAAiBC,gBAAjB,CAAf;AACAF,OAAOG,eAAP,CAAuB,EAAEb,QAAF,EAAvB;;AAEAA,IAAIc,MAAJ,CAAW,EAAEC,MAAM,IAAR,EAAX,EAA2B;AAAA,WACvBT,QAAQC,GAAR,wDAAuDG,OAAOM,WAA9D,CADuB;AAAA,CAA3B;;AAKA;AACA;;;kBAGehB,G","file":"app.js","sourcesContent":["import { ApolloServer, gql } from 'apollo-server-express';\r\nimport express from 'express';\r\nimport cors from 'cors';\r\nimport helmet from 'helmet';\r\nimport morgan from 'morgan';\r\n\r\nimport schema from '../schema/schema';\r\n\r\n\r\nconst app = express();\r\n\r\napp.use(morgan('dev'));\r\napp.use(cors());\r\napp.use(helmet());\r\n\r\napp.use((err, req, res, next) => {\r\n    console.log(\"REQUEST ERROR\");\r\n    res.status(500).send('Something went wrong!');\r\n});\r\n\r\nconsole.log(\"Before applying middleware\");\r\nconsole.log(\"Applying middleware\");\r\nconst server = new ApolloServer(schema);\r\nserver.applyMiddleware({ app });\r\n\r\napp.listen({ port: 4000 }, () =>\r\n    console.log(`ðŸš€ Server ready at http://localhost:4000${server.graphqlPath}`)\r\n);\r\n\r\n\r\n//\r\n// console.log(\"After applying middleware\");\r\n\r\n\r\nexport default app;"]}